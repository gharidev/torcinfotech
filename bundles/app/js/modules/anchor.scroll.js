define(["jquery"],function(h){function t(){var o=h("a[href^='#']"),e=60,c=h(".header").outerHeight(),i="text-highlighted";function l(t,o){""!==o&&(t.parent().addClass(i),function n(t){var o=(t.is(":visible")?t:t.parents(":visible").first()).offset().top-c-e;h([document.documentElement,document.body]).animate({scrollTop:o},2e3)}(t),location.hash||(location.hash=o),setTimeout(function(){t.parent().removeClass(i)},3e3))}function f(t){o.removeClass("active"),t.addClass("active")}h.each(o,function(t,o){var n=h(o)[0].hash,e=n.substring(1,n.length),i=h("[name='"+e+"']");i.length&&function s(e,i){var n=e[0].hash,a=e.parents(".p-blog-directory").length;if(a){h(window).scroll(function(t){var o=i.offset().top>h(window).scrollTop()-c,n=i.offset().top<h(window).scrollTop()+80+c||h(window).scrollTop()+(h(window).height()+c)>=h(document).height();o&&n&&f(e)})}e.on("click",function(t){l(i,n),a&&(f(h(this)),function o(t){"undefined"!=typeof _paq&&_paq.push(["trackEvent","Blog: Table of Contents","Blog: Table of Contents: click","Blog: Table of Contents: click: "+t.text()])}(h(this)))})}(h(o),i),location.hash===n&&l(i,n)})}return function(){t()}});